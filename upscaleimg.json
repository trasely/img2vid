{"id":"b334ad95-3e93-4027-93c5-28de24c3d5b9","revision":0,"last_node_id":22,"last_link_id":13,"nodes":[{"id":8,"type":"UNETLoader","pos":[-70.09909057617188,378.6419677734375],"size":[270,82],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[5]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"UNETLoader"},"widgets_values":["flux1-fill-dev.safetensors","default"]},{"id":11,"type":"CLIPTextEncode","pos":[260.6027526855469,593.4720458984375],"size":[400,200],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":8},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[6]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#232","bgcolor":"#353"},{"id":10,"type":"CLIPTextEncode","pos":[246.7803497314453,833.9822998046875],"size":[400,200],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":9},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#322","bgcolor":"#533"},{"id":7,"type":"VAELoader","pos":[-91.86943817138672,916.6804809570312],"size":[270,58],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","links":[10]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"VAELoader"},"widgets_values":["ae.safetensors"]},{"id":12,"type":"CLIPLoader","pos":[-129.1901092529297,582.4141235351562],"size":[270,106],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[8,9,11]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"CLIPLoader"},"widgets_values":["ViT-L-14-TEXT-detail-improved-hiT-GmP-TE-only-HF.safetensors","stable_diffusion","default"]},{"id":1,"type":"LoadImage","pos":[335.2438049316406,1078.74853515625],"size":[274.080078125,314],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[1]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"LoadImage"},"widgets_values":["unnamed.jpg","image"]},{"id":13,"type":"SaveImage","pos":[1575.116943359375,384.8620910644531],"size":[270,58],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":12},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":6,"type":"ImageScale","pos":[1221.953369140625,380.7153625488281],"size":[270,130],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":4},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[12]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"]},{"id":2,"type":"ResizeAndPadImage","pos":[389.842529296875,404.9045715332031],"size":[270,130],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":1},{"localized_name":"target_width","name":"target_width","type":"INT","widget":{"name":"target_width"},"link":null},{"localized_name":"target_height","name":"target_height","type":"INT","widget":{"name":"target_height"},"link":null},{"localized_name":"padding_color","name":"padding_color","type":"COMBO","widget":{"name":"padding_color"},"link":null},{"localized_name":"interpolation","name":"interpolation","type":"COMBO","widget":{"name":"interpolation"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[3]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"ResizeAndPadImage"},"widgets_values":[768,1024,"white","area"]},{"id":3,"type":"FaceDetailer","pos":[717.4343872070312,387.28094482421875],"size":[400,960],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":3},{"localized_name":"model","name":"model","type":"MODEL","link":5},{"localized_name":"clip","name":"clip","type":"CLIP","link":11},{"localized_name":"vae","name":"vae","type":"VAE","link":10},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":6},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":7},{"localized_name":"bbox_detector","name":"bbox_detector","type":"BBOX_DETECTOR","link":null},{"localized_name":"sam_model_opt","name":"sam_model_opt","shape":7,"type":"SAM_MODEL","link":null},{"localized_name":"segm_detector_opt","name":"segm_detector_opt","shape":7,"type":"SEGM_DETECTOR","link":null},{"localized_name":"detailer_hook","name":"detailer_hook","shape":7,"type":"DETAILER_HOOK","link":null},{"localized_name":"scheduler_func_opt","name":"scheduler_func_opt","shape":7,"type":"SCHEDULER_FUNC","link":null},{"localized_name":"guide_size","name":"guide_size","type":"FLOAT","widget":{"name":"guide_size"},"link":null},{"localized_name":"guide_size_for","name":"guide_size_for","type":"BOOLEAN","widget":{"name":"guide_size_for"},"link":null},{"localized_name":"max_size","name":"max_size","type":"FLOAT","widget":{"name":"max_size"},"link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null},{"localized_name":"feather","name":"feather","type":"INT","widget":{"name":"feather"},"link":null},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null},{"localized_name":"force_inpaint","name":"force_inpaint","type":"BOOLEAN","widget":{"name":"force_inpaint"},"link":null},{"localized_name":"bbox_threshold","name":"bbox_threshold","type":"FLOAT","widget":{"name":"bbox_threshold"},"link":null},{"localized_name":"bbox_dilation","name":"bbox_dilation","type":"INT","widget":{"name":"bbox_dilation"},"link":null},{"localized_name":"bbox_crop_factor","name":"bbox_crop_factor","type":"FLOAT","widget":{"name":"bbox_crop_factor"},"link":null},{"localized_name":"sam_detection_hint","name":"sam_detection_hint","type":"COMBO","widget":{"name":"sam_detection_hint"},"link":null},{"localized_name":"sam_dilation","name":"sam_dilation","type":"INT","widget":{"name":"sam_dilation"},"link":null},{"localized_name":"sam_threshold","name":"sam_threshold","type":"FLOAT","widget":{"name":"sam_threshold"},"link":null},{"localized_name":"sam_bbox_expansion","name":"sam_bbox_expansion","type":"INT","widget":{"name":"sam_bbox_expansion"},"link":null},{"localized_name":"sam_mask_hint_threshold","name":"sam_mask_hint_threshold","type":"FLOAT","widget":{"name":"sam_mask_hint_threshold"},"link":null},{"localized_name":"sam_mask_hint_use_negative","name":"sam_mask_hint_use_negative","type":"COMBO","widget":{"name":"sam_mask_hint_use_negative"},"link":null},{"localized_name":"drop_size","name":"drop_size","type":"INT","widget":{"name":"drop_size"},"link":null},{"localized_name":"wildcard","name":"wildcard","type":"STRING","widget":{"name":"wildcard"},"link":null},{"localized_name":"cycle","name":"cycle","type":"INT","widget":{"name":"cycle"},"link":null},{"localized_name":"inpaint_model","name":"inpaint_model","shape":7,"type":"BOOLEAN","widget":{"name":"inpaint_model"},"link":null},{"localized_name":"noise_mask_feather","name":"noise_mask_feather","shape":7,"type":"INT","widget":{"name":"noise_mask_feather"},"link":null},{"localized_name":"tiled_encode","name":"tiled_encode","shape":7,"type":"BOOLEAN","widget":{"name":"tiled_encode"},"link":null},{"localized_name":"tiled_decode","name":"tiled_decode","shape":7,"type":"BOOLEAN","widget":{"name":"tiled_decode"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[4]},{"localized_name":"cropped_refined","name":"cropped_refined","shape":6,"type":"IMAGE","links":null},{"localized_name":"cropped_enhanced_alpha","name":"cropped_enhanced_alpha","shape":6,"type":"IMAGE","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"detailer_pipe","name":"detailer_pipe","type":"DETAILER_PIPE","links":null},{"localized_name":"cnet_images","name":"cnet_images","shape":6,"type":"IMAGE","links":null}],"properties":{"Node name for S&R":"FaceDetailer","cnr_id":"comfyui-impact-pack","ver":"8.17.1"},"widgets_values":[256,true,1024,0,"randomize",20,8,"euler","simple",0.5,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false,20,false,false]},{"id":21,"type":"MaskFromSegmentation+","pos":[784.1277465820312,29.279748916625977],"size":[289.40234375,130],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"segments","name":"segments","type":"INT","widget":{"name":"segments"},"link":null},{"localized_name":"remove_isolated_pixels","name":"remove_isolated_pixels","type":"INT","widget":{"name":"remove_isolated_pixels"},"link":null},{"localized_name":"remove_small_masks","name":"remove_small_masks","type":"FLOAT","widget":{"name":"remove_small_masks"},"link":null},{"localized_name":"fill_holes","name":"fill_holes","type":"BOOLEAN","widget":{"name":"fill_holes"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui_essentials","ver":"1.1.0","Node name for S&R":"MaskFromSegmentation+"},"widgets_values":[6,0,0,false]},{"id":22,"type":"BboxDetectorSEGS","pos":[335.2439880371094,55.19682693481445],"size":[400,224],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"bbox_detector","name":"bbox_detector","type":"BBOX_DETECTOR","link":null},{"localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"detailer_hook","name":"detailer_hook","shape":7,"type":"DETAILER_HOOK","link":null},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"dilation","name":"dilation","type":"INT","widget":{"name":"dilation"},"link":null},{"localized_name":"crop_factor","name":"crop_factor","type":"FLOAT","widget":{"name":"crop_factor"},"link":null},{"localized_name":"drop_size","name":"drop_size","type":"INT","widget":{"name":"drop_size"},"link":null},{"localized_name":"labels","name":"labels","type":"STRING","widget":{"name":"labels"},"link":null}],"outputs":[{"localized_name":"SEGS","name":"SEGS","type":"SEGS","links":null}],"properties":{"Node name for S&R":"BboxDetectorSEGS","cnr_id":"comfyui-impact-pack","ver":"8.17.1"},"widgets_values":[0.5,10,3,10,"all"]}],"links":[[1,1,0,2,0,"IMAGE"],[3,2,0,3,0,"IMAGE"],[4,3,0,6,0,"IMAGE"],[5,8,0,3,1,"MODEL"],[6,11,0,3,4,"CONDITIONING"],[7,10,0,3,5,"CONDITIONING"],[8,12,0,11,0,"CLIP"],[9,12,0,10,0,"CLIP"],[10,7,0,3,3,"VAE"],[11,12,0,3,2,"CLIP"],[12,6,0,13,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.9646149645000092,"offset":[224.56487107863254,80.5448464120272]}},"version":0.4}